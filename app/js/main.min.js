(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*
 * Author: Alex Gibson
 * https://github.com/alexgibson/notify.js
 * License: MIT license
 */

(function(global, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD environment
        define(function() {
            return factory(global, global.document);
        });
    } else if (typeof module !== 'undefined' && module.exports) {
        // CommonJS environment
        module.exports = factory(global, global.document);
    } else {
        // Browser environment
        global.Notify = factory(global, global.document);
    }
} (typeof window !== 'undefined' ? window : this, function (w, d) {

    'use strict';

    function isFunction (item) {
        return typeof item === 'function';
    }

    function Notify(title, options) {

        if (typeof title !== 'string') {
            throw new Error('Notify(): first arg (title) must be a string.');
        }

        this.title = title;

        this.options = {
            icon: '',
            body: '',
            tag: '',
            lang: 'en',
            notifyShow: null,
            notifyClose: null,
            notifyClick: null,
            notifyError: null,
            timeout: null
        };

        this.permission = null;

        if (!Notify.isSupported) {
            return;
        }

        //User defined options for notification content
        if (typeof options === 'object') {

            for (var i in options) {
                if (options.hasOwnProperty(i)) {
                    this.options[i] = options[i];
                }
            }

            //callback when notification is displayed
            if (isFunction(this.options.notifyShow)) {
                this.onShowCallback = this.options.notifyShow;
            }

            //callback when notification is closed
            if (isFunction(this.options.notifyClose)) {
                this.onCloseCallback = this.options.notifyClose;
            }

            //callback when notification is clicked
            if (isFunction(this.options.notifyClick)) {
                this.onClickCallback = this.options.notifyClick;
            }

            //callback when notification throws error
            if (isFunction(this.options.notifyError)) {
                this.onErrorCallback = this.options.notifyError;
            }
        }
    }

    // true if the browser supports HTML5 Notification
    Notify.isSupported = 'Notification' in w;

    // true if the permission is not granted
    Notify.needsPermission = !(Notify.isSupported && Notification.permission === 'granted');

    // returns current permission level ('granted', 'default', 'denied' or null)
    Notify.permissionLevel = (Notify.isSupported ? Notification.permission : null);

    // asks the user for permission to display notifications.  Then calls the callback functions is supplied.
    Notify.requestPermission = function (onPermissionGrantedCallback, onPermissionDeniedCallback) {
        if (!Notify.isSupported) {
            return;
        }
        w.Notification.requestPermission(function (perm) {
            switch (perm) {
                case 'granted':
                    Notify.needsPermission = false;
                    if (isFunction(onPermissionGrantedCallback)) {
                        onPermissionGrantedCallback();
                    }
                    break;
                case 'denied':
                    if (isFunction(onPermissionDeniedCallback)) {
                        onPermissionDeniedCallback();
                    }
                    break;
            }
        });
    };


    Notify.prototype.show = function () {

        if (!Notify.isSupported) {
            return;
        }

        this.myNotify = new Notification(this.title, {
            'body': this.options.body,
            'tag' : this.options.tag,
            'icon' : this.options.icon,
            'lang' : this.options.lang
        });

        if (this.options.timeout && !isNaN(this.options.timeout)) {
            setTimeout(this.close.bind(this), this.options.timeout * 1000);
        }

        this.myNotify.addEventListener('show', this, false);
        this.myNotify.addEventListener('error', this, false);
        this.myNotify.addEventListener('close', this, false);
        this.myNotify.addEventListener('click', this, false);
    };

    Notify.prototype.onShowNotification = function (e) {
        if (this.onShowCallback) {
            this.onShowCallback(e);
        }
    };

    Notify.prototype.onCloseNotification = function (e) {
        if (this.onCloseCallback) {
            this.onCloseCallback(e);
        }
        this.destroy();
    };

    Notify.prototype.onClickNotification = function (e) {
        if (this.onClickCallback) {
            this.onClickCallback(e);
        }
    };

    Notify.prototype.onErrorNotification = function (e) {
        if (this.onErrorCallback) {
            this.onErrorCallback(e);
        }
        this.destroy();
    };

    Notify.prototype.destroy = function () {
        this.myNotify.removeEventListener('show', this, false);
        this.myNotify.removeEventListener('error', this, false);
        this.myNotify.removeEventListener('close', this, false);
        this.myNotify.removeEventListener('click', this, false);
    };

    Notify.prototype.close = function () {
        this.myNotify.close();
    };

    Notify.prototype.handleEvent = function (e) {
        switch (e.type) {
        case 'show':
            this.onShowNotification(e);
            break;
        case 'close':
            this.onCloseNotification(e);
            break;
        case 'click':
            this.onClickNotification(e);
            break;
        case 'error':
            this.onErrorNotification(e);
            break;
        }
    };

    return Notify;

}));

},{}],2:[function(require,module,exports){
'use strict';

var Timer = require('./modules/timer.js');
var Notify = require('./libs/notify.js');

if (Notify.isSupported === false) {
  $('.notification-not-supported').show();
}

if (Notify.needsPermission) {
  Notify.requestPermission(null, onPermissionDeniedCallback);
}
function onPermissionDeniedCallback() {
  $('.notification-disabled').show();
}

var reminder = new Notify('Yo dawg!', {
  body: 'Stand up!',
  timeout: 3,
  icon: 'data/notification-icon.png'
});

var timer = new Timer(1500, reminder);

setInterval(function() {
  timer.tick();
  timer.display();
}, 1000);

},{"./libs/notify.js":1,"./modules/timer.js":3}],3:[function(require,module,exports){
'use strict';

function Timer(time, notification) {
  this.timeLeft = time;
  this.timeSpan = time;
  this.notification = notification;

  this.display();
}

Timer.prototype.tick = function(notification) {
  this.timeLeft--;

  if (this.timeLeft === 0) {
    this.timeLeft = this.timeSpan;
    this.notify();
  }
}

Timer.prototype.display = function(notification) {
  var minutes = Math.floor(this.timeLeft / 60);
  var seconds = Math.floor(this.timeLeft - minutes * 60);
  seconds = ("0" + seconds).slice(-2);
  $("#minutes").text(minutes);
  $("#seconds").text(seconds);
}

Timer.prototype.notify = function() {
  this.notification.show()
}

module.exports = Timer;
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvbGlicy9ub3RpZnkuanMiLCJhcHAvanMvbWFpbi5qcyIsImFwcC9qcy9tb2R1bGVzL3RpbWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKlxuICogQXV0aG9yOiBBbGV4IEdpYnNvblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FsZXhnaWJzb24vbm90aWZ5LmpzXG4gKiBMaWNlbnNlOiBNSVQgbGljZW5zZVxuICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRCBlbnZpcm9ubWVudFxuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShnbG9iYWwsIGdsb2JhbC5kb2N1bWVudCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gQ29tbW9uSlMgZW52aXJvbm1lbnRcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KGdsb2JhbCwgZ2xvYmFsLmRvY3VtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGVudmlyb25tZW50XG4gICAgICAgIGdsb2JhbC5Ob3RpZnkgPSBmYWN0b3J5KGdsb2JhbCwgZ2xvYmFsLmRvY3VtZW50KTtcbiAgICB9XG59ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uICh3LCBkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBOb3RpZnkodGl0bGUsIG9wdGlvbnMpIHtcblxuICAgICAgICBpZiAodHlwZW9mIHRpdGxlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3RpZnkoKTogZmlyc3QgYXJnICh0aXRsZSkgbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpY29uOiAnJyxcbiAgICAgICAgICAgIGJvZHk6ICcnLFxuICAgICAgICAgICAgdGFnOiAnJyxcbiAgICAgICAgICAgIGxhbmc6ICdlbicsXG4gICAgICAgICAgICBub3RpZnlTaG93OiBudWxsLFxuICAgICAgICAgICAgbm90aWZ5Q2xvc2U6IG51bGwsXG4gICAgICAgICAgICBub3RpZnlDbGljazogbnVsbCxcbiAgICAgICAgICAgIG5vdGlmeUVycm9yOiBudWxsLFxuICAgICAgICAgICAgdGltZW91dDogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucGVybWlzc2lvbiA9IG51bGw7XG5cbiAgICAgICAgaWYgKCFOb3RpZnkuaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVXNlciBkZWZpbmVkIG9wdGlvbnMgZm9yIG5vdGlmaWNhdGlvbiBjb250ZW50XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY2FsbGJhY2sgd2hlbiBub3RpZmljYXRpb24gaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMubm90aWZ5U2hvdykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2hvd0NhbGxiYWNrID0gdGhpcy5vcHRpb25zLm5vdGlmeVNob3c7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY2FsbGJhY2sgd2hlbiBub3RpZmljYXRpb24gaXMgY2xvc2VkXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMubm90aWZ5Q2xvc2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlQ2FsbGJhY2sgPSB0aGlzLm9wdGlvbnMubm90aWZ5Q2xvc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY2FsbGJhY2sgd2hlbiBub3RpZmljYXRpb24gaXMgY2xpY2tlZFxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5vcHRpb25zLm5vdGlmeUNsaWNrKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25DbGlja0NhbGxiYWNrID0gdGhpcy5vcHRpb25zLm5vdGlmeUNsaWNrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2NhbGxiYWNrIHdoZW4gbm90aWZpY2F0aW9uIHRocm93cyBlcnJvclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5vcHRpb25zLm5vdGlmeUVycm9yKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25FcnJvckNhbGxiYWNrID0gdGhpcy5vcHRpb25zLm5vdGlmeUVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdHJ1ZSBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBIVE1MNSBOb3RpZmljYXRpb25cbiAgICBOb3RpZnkuaXNTdXBwb3J0ZWQgPSAnTm90aWZpY2F0aW9uJyBpbiB3O1xuXG4gICAgLy8gdHJ1ZSBpZiB0aGUgcGVybWlzc2lvbiBpcyBub3QgZ3JhbnRlZFxuICAgIE5vdGlmeS5uZWVkc1Blcm1pc3Npb24gPSAhKE5vdGlmeS5pc1N1cHBvcnRlZCAmJiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKTtcblxuICAgIC8vIHJldHVybnMgY3VycmVudCBwZXJtaXNzaW9uIGxldmVsICgnZ3JhbnRlZCcsICdkZWZhdWx0JywgJ2RlbmllZCcgb3IgbnVsbClcbiAgICBOb3RpZnkucGVybWlzc2lvbkxldmVsID0gKE5vdGlmeS5pc1N1cHBvcnRlZCA/IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uIDogbnVsbCk7XG5cbiAgICAvLyBhc2tzIHRoZSB1c2VyIGZvciBwZXJtaXNzaW9uIHRvIGRpc3BsYXkgbm90aWZpY2F0aW9ucy4gIFRoZW4gY2FsbHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucyBpcyBzdXBwbGllZC5cbiAgICBOb3RpZnkucmVxdWVzdFBlcm1pc3Npb24gPSBmdW5jdGlvbiAob25QZXJtaXNzaW9uR3JhbnRlZENhbGxiYWNrLCBvblBlcm1pc3Npb25EZW5pZWRDYWxsYmFjaykge1xuICAgICAgICBpZiAoIU5vdGlmeS5pc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHcuTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGZ1bmN0aW9uIChwZXJtKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBlcm0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmFudGVkJzpcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5Lm5lZWRzUGVybWlzc2lvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvblBlcm1pc3Npb25HcmFudGVkQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblBlcm1pc3Npb25HcmFudGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZW5pZWQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvblBlcm1pc3Npb25EZW5pZWRDYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUGVybWlzc2lvbkRlbmllZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIE5vdGlmeS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIU5vdGlmeS5pc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5teU5vdGlmeSA9IG5ldyBOb3RpZmljYXRpb24odGhpcy50aXRsZSwge1xuICAgICAgICAgICAgJ2JvZHknOiB0aGlzLm9wdGlvbnMuYm9keSxcbiAgICAgICAgICAgICd0YWcnIDogdGhpcy5vcHRpb25zLnRhZyxcbiAgICAgICAgICAgICdpY29uJyA6IHRoaXMub3B0aW9ucy5pY29uLFxuICAgICAgICAgICAgJ2xhbmcnIDogdGhpcy5vcHRpb25zLmxhbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50aW1lb3V0ICYmICFpc05hTih0aGlzLm9wdGlvbnMudGltZW91dCkpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jbG9zZS5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMudGltZW91dCAqIDEwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5teU5vdGlmeS5hZGRFdmVudExpc3RlbmVyKCdzaG93JywgdGhpcywgZmFsc2UpO1xuICAgICAgICB0aGlzLm15Tm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcywgZmFsc2UpO1xuICAgICAgICB0aGlzLm15Tm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgdGhpcywgZmFsc2UpO1xuICAgICAgICB0aGlzLm15Tm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcywgZmFsc2UpO1xuICAgIH07XG5cbiAgICBOb3RpZnkucHJvdG90eXBlLm9uU2hvd05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLm9uU2hvd0NhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2hvd0NhbGxiYWNrKGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE5vdGlmeS5wcm90b3R5cGUub25DbG9zZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xvc2VDYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlQ2FsbGJhY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfTtcblxuICAgIE5vdGlmeS5wcm90b3R5cGUub25DbGlja05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xpY2tDYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5vbkNsaWNrQ2FsbGJhY2soZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgTm90aWZ5LnByb3RvdHlwZS5vbkVycm9yTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMub25FcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3JDYWxsYmFjayhlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgTm90aWZ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm15Tm90aWZ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nob3cnLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubXlOb3RpZnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubXlOb3RpZnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubXlOb3RpZnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIE5vdGlmeS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubXlOb3RpZnkuY2xvc2UoKTtcbiAgICB9O1xuXG4gICAgTm90aWZ5LnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3Nob3cnOlxuICAgICAgICAgICAgdGhpcy5vblNob3dOb3RpZmljYXRpb24oZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgICAgdGhpcy5vbkNsb3NlTm90aWZpY2F0aW9uKGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgIHRoaXMub25DbGlja05vdGlmaWNhdGlvbihlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3JOb3RpZmljYXRpb24oZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gTm90aWZ5O1xuXG59KSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUaW1lciA9IHJlcXVpcmUoJy4vbW9kdWxlcy90aW1lci5qcycpO1xudmFyIE5vdGlmeSA9IHJlcXVpcmUoJy4vbGlicy9ub3RpZnkuanMnKTtcblxuaWYgKE5vdGlmeS5pc1N1cHBvcnRlZCA9PT0gZmFsc2UpIHtcbiAgJCgnLm5vdGlmaWNhdGlvbi1ub3Qtc3VwcG9ydGVkJykuc2hvdygpO1xufVxuXG5pZiAoTm90aWZ5Lm5lZWRzUGVybWlzc2lvbikge1xuICBOb3RpZnkucmVxdWVzdFBlcm1pc3Npb24obnVsbCwgb25QZXJtaXNzaW9uRGVuaWVkQ2FsbGJhY2spO1xufVxuZnVuY3Rpb24gb25QZXJtaXNzaW9uRGVuaWVkQ2FsbGJhY2soKSB7XG4gICQoJy5ub3RpZmljYXRpb24tZGlzYWJsZWQnKS5zaG93KCk7XG59XG5cbnZhciByZW1pbmRlciA9IG5ldyBOb3RpZnkoJ1lvIGRhd2chJywge1xuICBib2R5OiAnU3RhbmQgdXAhJyxcbiAgdGltZW91dDogMyxcbiAgaWNvbjogJ2RhdGEvbm90aWZpY2F0aW9uLWljb24ucG5nJ1xufSk7XG5cbnZhciB0aW1lciA9IG5ldyBUaW1lcigxNTAwLCByZW1pbmRlcik7XG5cbnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICB0aW1lci50aWNrKCk7XG4gIHRpbWVyLmRpc3BsYXkoKTtcbn0sIDEwMDApO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBUaW1lcih0aW1lLCBub3RpZmljYXRpb24pIHtcbiAgdGhpcy50aW1lTGVmdCA9IHRpbWU7XG4gIHRoaXMudGltZVNwYW4gPSB0aW1lO1xuICB0aGlzLm5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbjtcblxuICB0aGlzLmRpc3BsYXkoKTtcbn1cblxuVGltZXIucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbihub3RpZmljYXRpb24pIHtcbiAgdGhpcy50aW1lTGVmdC0tO1xuXG4gIGlmICh0aGlzLnRpbWVMZWZ0ID09PSAwKSB7XG4gICAgdGhpcy50aW1lTGVmdCA9IHRoaXMudGltZVNwYW47XG4gICAgdGhpcy5ub3RpZnkoKTtcbiAgfVxufVxuXG5UaW1lci5wcm90b3R5cGUuZGlzcGxheSA9IGZ1bmN0aW9uKG5vdGlmaWNhdGlvbikge1xuICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IodGhpcy50aW1lTGVmdCAvIDYwKTtcbiAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKHRoaXMudGltZUxlZnQgLSBtaW51dGVzICogNjApO1xuICBzZWNvbmRzID0gKFwiMFwiICsgc2Vjb25kcykuc2xpY2UoLTIpO1xuICAkKFwiI21pbnV0ZXNcIikudGV4dChtaW51dGVzKTtcbiAgJChcIiNzZWNvbmRzXCIpLnRleHQoc2Vjb25kcyk7XG59XG5cblRpbWVyLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ub3RpZmljYXRpb24uc2hvdygpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gVGltZXI7Il19
